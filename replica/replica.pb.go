// Code generated by protoc-gen-go.
// source: replica.proto
// DO NOT EDIT!

/*
Package replica is a generated protocol buffer package.

It is generated from these files:
	replica.proto

It has these top-level messages:
	Record
	DataChgSummary
	NodeChgRequest
	NodeChgResponse
	NodeQryRequest
	NodeQryResponse
	PingRequest
	PingResponse
*/
package replica

import proto "github.com/golang/protobuf/proto"
import fmt "fmt"
import math "math"

import (
	context "golang.org/x/net/context"
	grpc "google.golang.org/grpc"
)

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// This is a compile-time assertion to ensure that this generated file
// is compatible with the proto package it is being compiled against.
// A compilation error at this line likely means your copy of the
// proto package needs to be updated.
const _ = proto.ProtoPackageIsVersion2 // please upgrade the proto package

type NodeChgRequest_Operations int32

const (
	NodeChgRequest_UNKNOWN NodeChgRequest_Operations = 0
	// A new node request to join the cluster
	NodeChgRequest_JOIN NodeChgRequest_Operations = 1
	// A node request to quit the cluster
	NodeChgRequest_QUIT NodeChgRequest_Operations = 2
	// request to add a node to the server list as a new node just joined
	NodeChgRequest_ADD NodeChgRequest_Operations = 3
	// Request to drop a node from the server list as a node just  quit
	NodeChgRequest_DROP NodeChgRequest_Operations = 4
)

var NodeChgRequest_Operations_name = map[int32]string{
	0: "UNKNOWN",
	1: "JOIN",
	2: "QUIT",
	3: "ADD",
	4: "DROP",
}
var NodeChgRequest_Operations_value = map[string]int32{
	"UNKNOWN": 0,
	"JOIN":    1,
	"QUIT":    2,
	"ADD":     3,
	"DROP":    4,
}

func (x NodeChgRequest_Operations) String() string {
	return proto.EnumName(NodeChgRequest_Operations_name, int32(x))
}
func (NodeChgRequest_Operations) EnumDescriptor() ([]byte, []int) { return fileDescriptor0, []int{2, 0} }

type Record struct {
	Key   int32  `protobuf:"varint,1,opt,name=key" json:"key,omitempty"`
	Value string `protobuf:"bytes,2,opt,name=value" json:"value,omitempty"`
}

func (m *Record) Reset()                    { *m = Record{} }
func (m *Record) String() string            { return proto.CompactTextString(m) }
func (*Record) ProtoMessage()               {}
func (*Record) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{0} }

type DataChgSummary struct {
	// The number of record received.
	RecordCount int64 `protobuf:"varint,1,opt,name=record_count,json=recordCount" json:"record_count,omitempty"`
	// The duration of the traversal in seconds.
	ElapsedTime int32 `protobuf:"varint,2,opt,name=elapsed_time,json=elapsedTime" json:"elapsed_time,omitempty"`
}

func (m *DataChgSummary) Reset()                    { *m = DataChgSummary{} }
func (m *DataChgSummary) String() string            { return proto.CompactTextString(m) }
func (*DataChgSummary) ProtoMessage()               {}
func (*DataChgSummary) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{1} }

type NodeChgRequest struct {
	Operation NodeChgRequest_Operations `protobuf:"varint,1,opt,name=operation,enum=NodeChgRequest_Operations" json:"operation,omitempty"`
	NodeAddr  string                    `protobuf:"bytes,2,opt,name=NodeAddr,json=nodeAddr" json:"NodeAddr,omitempty"`
}

func (m *NodeChgRequest) Reset()                    { *m = NodeChgRequest{} }
func (m *NodeChgRequest) String() string            { return proto.CompactTextString(m) }
func (*NodeChgRequest) ProtoMessage()               {}
func (*NodeChgRequest) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{2} }

type NodeChgResponse struct {
	Fail   bool   `protobuf:"varint,1,opt,name=fail" json:"fail,omitempty"`
	ErrMsg string `protobuf:"bytes,2,opt,name=err_msg,json=errMsg" json:"err_msg,omitempty"`
}

func (m *NodeChgResponse) Reset()                    { *m = NodeChgResponse{} }
func (m *NodeChgResponse) String() string            { return proto.CompactTextString(m) }
func (*NodeChgResponse) ProtoMessage()               {}
func (*NodeChgResponse) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{3} }

type NodeQryRequest struct {
	NodeAddr string `protobuf:"bytes,1,opt,name=NodeAddr,json=nodeAddr" json:"NodeAddr,omitempty"`
}

func (m *NodeQryRequest) Reset()                    { *m = NodeQryRequest{} }
func (m *NodeQryRequest) String() string            { return proto.CompactTextString(m) }
func (*NodeQryRequest) ProtoMessage()               {}
func (*NodeQryRequest) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{4} }

type NodeQryResponse struct {
	NodeAddr []string `protobuf:"bytes,1,rep,name=NodeAddr,json=nodeAddr" json:"NodeAddr,omitempty"`
}

func (m *NodeQryResponse) Reset()                    { *m = NodeQryResponse{} }
func (m *NodeQryResponse) String() string            { return proto.CompactTextString(m) }
func (*NodeQryResponse) ProtoMessage()               {}
func (*NodeQryResponse) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{5} }

// A PingRequest specifies the string to echo in response.
// Fields are exported so that they will be serialized in the rpc call.
type PingRequest struct {
	// Echo this string with PingResponse.
	Ping string `protobuf:"bytes,1,opt,name=ping" json:"ping,omitempty"`
	// The address of the client.
	Addr string `protobuf:"bytes,2,opt,name=addr" json:"addr,omitempty"`
}

func (m *PingRequest) Reset()                    { *m = PingRequest{} }
func (m *PingRequest) String() string            { return proto.CompactTextString(m) }
func (*PingRequest) ProtoMessage()               {}
func (*PingRequest) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{6} }

// A PingResponse contains the echoed ping request string.
type PingResponse struct {
	// An echo of value sent with PingRequest.
	Pong string `protobuf:"bytes,1,opt,name=pong" json:"pong,omitempty"`
}

func (m *PingResponse) Reset()                    { *m = PingResponse{} }
func (m *PingResponse) String() string            { return proto.CompactTextString(m) }
func (*PingResponse) ProtoMessage()               {}
func (*PingResponse) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{7} }

func init() {
	proto.RegisterType((*Record)(nil), "Record")
	proto.RegisterType((*DataChgSummary)(nil), "DataChgSummary")
	proto.RegisterType((*NodeChgRequest)(nil), "NodeChgRequest")
	proto.RegisterType((*NodeChgResponse)(nil), "NodeChgResponse")
	proto.RegisterType((*NodeQryRequest)(nil), "NodeQryRequest")
	proto.RegisterType((*NodeQryResponse)(nil), "NodeQryResponse")
	proto.RegisterType((*PingRequest)(nil), "PingRequest")
	proto.RegisterType((*PingResponse)(nil), "PingResponse")
	proto.RegisterEnum("NodeChgRequest_Operations", NodeChgRequest_Operations_name, NodeChgRequest_Operations_value)
}

// Reference imports to suppress errors if they are not otherwise used.
var _ context.Context
var _ grpc.ClientConn

// This is a compile-time assertion to ensure that this generated file
// is compatible with the grpc package it is being compiled against.
const _ = grpc.SupportPackageIsVersion2

// Client API for SyncUp service

type SyncUpClient interface {
	// DataChange() send data change requests to peers
	DataChange(ctx context.Context, opts ...grpc.CallOption) (SyncUp_DataChangeClient, error)
	// NodeChange send Join or Quit request to other peers
	NodeChange(ctx context.Context, in *NodeChgRequest, opts ...grpc.CallOption) (*NodeChgResponse, error)
	// NodeQuery ask for a list of all nodes
	NodeQuery(ctx context.Context, in *NodeQryRequest, opts ...grpc.CallOption) (*NodeQryResponse, error)
	// Ping peers
	Ping(ctx context.Context, in *PingRequest, opts ...grpc.CallOption) (*PingResponse, error)
}

type syncUpClient struct {
	cc *grpc.ClientConn
}

func NewSyncUpClient(cc *grpc.ClientConn) SyncUpClient {
	return &syncUpClient{cc}
}

func (c *syncUpClient) DataChange(ctx context.Context, opts ...grpc.CallOption) (SyncUp_DataChangeClient, error) {
	stream, err := grpc.NewClientStream(ctx, &_SyncUp_serviceDesc.Streams[0], c.cc, "/SyncUp/DataChange", opts...)
	if err != nil {
		return nil, err
	}
	x := &syncUpDataChangeClient{stream}
	return x, nil
}

type SyncUp_DataChangeClient interface {
	Send(*Record) error
	CloseAndRecv() (*DataChgSummary, error)
	grpc.ClientStream
}

type syncUpDataChangeClient struct {
	grpc.ClientStream
}

func (x *syncUpDataChangeClient) Send(m *Record) error {
	return x.ClientStream.SendMsg(m)
}

func (x *syncUpDataChangeClient) CloseAndRecv() (*DataChgSummary, error) {
	if err := x.ClientStream.CloseSend(); err != nil {
		return nil, err
	}
	m := new(DataChgSummary)
	if err := x.ClientStream.RecvMsg(m); err != nil {
		return nil, err
	}
	return m, nil
}

func (c *syncUpClient) NodeChange(ctx context.Context, in *NodeChgRequest, opts ...grpc.CallOption) (*NodeChgResponse, error) {
	out := new(NodeChgResponse)
	err := grpc.Invoke(ctx, "/SyncUp/NodeChange", in, out, c.cc, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *syncUpClient) NodeQuery(ctx context.Context, in *NodeQryRequest, opts ...grpc.CallOption) (*NodeQryResponse, error) {
	out := new(NodeQryResponse)
	err := grpc.Invoke(ctx, "/SyncUp/NodeQuery", in, out, c.cc, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *syncUpClient) Ping(ctx context.Context, in *PingRequest, opts ...grpc.CallOption) (*PingResponse, error) {
	out := new(PingResponse)
	err := grpc.Invoke(ctx, "/SyncUp/Ping", in, out, c.cc, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

// Server API for SyncUp service

type SyncUpServer interface {
	// DataChange() send data change requests to peers
	DataChange(SyncUp_DataChangeServer) error
	// NodeChange send Join or Quit request to other peers
	NodeChange(context.Context, *NodeChgRequest) (*NodeChgResponse, error)
	// NodeQuery ask for a list of all nodes
	NodeQuery(context.Context, *NodeQryRequest) (*NodeQryResponse, error)
	// Ping peers
	Ping(context.Context, *PingRequest) (*PingResponse, error)
}

func RegisterSyncUpServer(s *grpc.Server, srv SyncUpServer) {
	s.RegisterService(&_SyncUp_serviceDesc, srv)
}

func _SyncUp_DataChange_Handler(srv interface{}, stream grpc.ServerStream) error {
	return srv.(SyncUpServer).DataChange(&syncUpDataChangeServer{stream})
}

type SyncUp_DataChangeServer interface {
	SendAndClose(*DataChgSummary) error
	Recv() (*Record, error)
	grpc.ServerStream
}

type syncUpDataChangeServer struct {
	grpc.ServerStream
}

func (x *syncUpDataChangeServer) SendAndClose(m *DataChgSummary) error {
	return x.ServerStream.SendMsg(m)
}

func (x *syncUpDataChangeServer) Recv() (*Record, error) {
	m := new(Record)
	if err := x.ServerStream.RecvMsg(m); err != nil {
		return nil, err
	}
	return m, nil
}

func _SyncUp_NodeChange_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(NodeChgRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SyncUpServer).NodeChange(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: "/SyncUp/NodeChange",
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SyncUpServer).NodeChange(ctx, req.(*NodeChgRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SyncUp_NodeQuery_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(NodeQryRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SyncUpServer).NodeQuery(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: "/SyncUp/NodeQuery",
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SyncUpServer).NodeQuery(ctx, req.(*NodeQryRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SyncUp_Ping_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(PingRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SyncUpServer).Ping(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: "/SyncUp/Ping",
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SyncUpServer).Ping(ctx, req.(*PingRequest))
	}
	return interceptor(ctx, in, info, handler)
}

var _SyncUp_serviceDesc = grpc.ServiceDesc{
	ServiceName: "SyncUp",
	HandlerType: (*SyncUpServer)(nil),
	Methods: []grpc.MethodDesc{
		{
			MethodName: "NodeChange",
			Handler:    _SyncUp_NodeChange_Handler,
		},
		{
			MethodName: "NodeQuery",
			Handler:    _SyncUp_NodeQuery_Handler,
		},
		{
			MethodName: "Ping",
			Handler:    _SyncUp_Ping_Handler,
		},
	},
	Streams: []grpc.StreamDesc{
		{
			StreamName:    "DataChange",
			Handler:       _SyncUp_DataChange_Handler,
			ClientStreams: true,
		},
	},
}

func init() { proto.RegisterFile("replica.proto", fileDescriptor0) }

var fileDescriptor0 = []byte{
	// 441 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x09, 0x6e, 0x88, 0x02, 0xff, 0x5c, 0x52, 0xdb, 0x6e, 0xd3, 0x40,
	0x10, 0x8d, 0xeb, 0x5c, 0x27, 0x69, 0x62, 0x8d, 0x90, 0xa8, 0xfc, 0x04, 0x2b, 0x21, 0x55, 0x08,
	0x56, 0xa5, 0x08, 0x89, 0x27, 0x44, 0xd5, 0xbc, 0x14, 0x84, 0xd3, 0x6e, 0x1b, 0x78, 0x8c, 0x96,
	0x78, 0x09, 0x16, 0xf1, 0x85, 0xb5, 0x8d, 0xe4, 0x3f, 0xe2, 0x33, 0xf8, 0x34, 0xf6, 0xe2, 0xc6,
	0x76, 0xde, 0xce, 0x1c, 0x9d, 0x39, 0x7b, 0x66, 0x76, 0xe0, 0x54, 0x8a, 0x6c, 0x1f, 0x6d, 0x39,
	0xcd, 0x64, 0x5a, 0xa4, 0xe4, 0x02, 0x86, 0x4c, 0x6c, 0x53, 0x19, 0xa2, 0x07, 0xee, 0x2f, 0x51,
	0x9d, 0x39, 0xcf, 0x9c, 0xf3, 0x01, 0xd3, 0x10, 0x9f, 0xc0, 0xe0, 0x0f, 0xdf, 0x97, 0xe2, 0xec,
	0x44, 0x71, 0x13, 0x66, 0x0b, 0xf2, 0x15, 0xe6, 0x4b, 0x5e, 0xf0, 0xeb, 0x9f, 0xbb, 0xfb, 0x32,
	0x8e, 0xb9, 0xac, 0xf0, 0x39, 0xcc, 0xa4, 0xf1, 0xd8, 0x6c, 0xd3, 0x32, 0x29, 0x8c, 0x85, 0xcb,
	0xa6, 0x96, 0xbb, 0xd6, 0x94, 0x96, 0x88, 0x3d, 0xcf, 0x72, 0x11, 0x6e, 0x8a, 0x28, 0xb6, 0x8e,
	0x03, 0x36, 0xad, 0xb9, 0x07, 0x45, 0x91, 0xbf, 0x0e, 0xcc, 0x83, 0x34, 0x14, 0xca, 0x98, 0x89,
	0xdf, 0xa5, 0xc8, 0x0b, 0x7c, 0x0f, 0x93, 0x34, 0x13, 0x92, 0x17, 0x51, 0x9a, 0x18, 0xd7, 0xf9,
	0xa5, 0x4f, 0xbb, 0x1a, 0xba, 0x7a, 0x14, 0xe4, 0xac, 0x11, 0xa3, 0x0f, 0x63, 0xad, 0xbb, 0x0a,
	0x43, 0x59, 0xa7, 0x1f, 0x27, 0x75, 0x4d, 0x3e, 0x02, 0x34, 0x4d, 0x38, 0x85, 0xd1, 0x3a, 0xf8,
	0x1c, 0xac, 0xbe, 0x05, 0x5e, 0x0f, 0xc7, 0xd0, 0xff, 0xb4, 0xba, 0x09, 0x3c, 0x47, 0xa3, 0xbb,
	0xf5, 0xcd, 0x83, 0x77, 0x82, 0x23, 0x70, 0xaf, 0x96, 0x4b, 0xcf, 0xd5, 0xd4, 0x92, 0xad, 0x6e,
	0xbd, 0x3e, 0xf9, 0x00, 0x8b, 0x43, 0x8a, 0x3c, 0x53, 0x2e, 0x02, 0x11, 0xfa, 0x3f, 0x78, 0xb4,
	0x37, 0x29, 0xc7, 0xcc, 0x60, 0x7c, 0x0a, 0x23, 0x21, 0xe5, 0x26, 0xce, 0x77, 0x75, 0x86, 0xa1,
	0x2a, 0xbf, 0xe4, 0x3b, 0xf2, 0xca, 0x4e, 0x7a, 0x27, 0xab, 0xc7, 0x49, 0xdb, 0x79, 0x9d, 0xa3,
	0xbc, 0xaf, 0xed, 0x6b, 0x46, 0x5d, 0xbf, 0xd6, 0x95, 0xbb, 0x1d, 0xf9, 0x3b, 0x98, 0xde, 0x46,
	0xc9, 0x61, 0x87, 0x2a, 0x58, 0xa6, 0xca, 0xda, 0xd5, 0x60, 0xcd, 0xf1, 0x66, 0x33, 0x06, 0x13,
	0x02, 0x33, 0xdb, 0xd6, 0x0c, 0xa4, 0x40, 0xd3, 0xa7, 0xf0, 0xe5, 0x3f, 0x07, 0x86, 0xf7, 0x55,
	0xb2, 0x5d, 0x67, 0xf8, 0x12, 0xc0, 0x5e, 0x01, 0x4f, 0x76, 0x02, 0x47, 0xd4, 0x1e, 0x91, 0xbf,
	0xa0, 0xdd, 0xdb, 0x20, 0xbd, 0x73, 0x07, 0xdf, 0x00, 0xd8, 0x75, 0x19, 0xed, 0xe2, 0xe8, 0x07,
	0x7d, 0x8f, 0x1e, 0x2d, 0x93, 0xf4, 0xf0, 0x02, 0x26, 0x66, 0xe6, 0x52, 0xa8, 0xfb, 0xb2, 0x1d,
	0xcd, 0xb6, 0xea, 0x8e, 0xd6, 0x42, 0x54, 0xc7, 0x0b, 0xe8, 0xeb, 0xfc, 0x38, 0xa3, 0xad, 0xe9,
	0xfd, 0x53, 0xda, 0x1e, 0x8a, 0xf4, 0xbe, 0x0f, 0xcd, 0xd9, 0xbf, 0xfd, 0x1f, 0x00, 0x00, 0xff,
	0xff, 0x04, 0x0a, 0xc5, 0xdc, 0x07, 0x03, 0x00, 0x00,
}
